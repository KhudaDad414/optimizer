{
  'asyncapi': '3.0.0',
  'info':
    {
      'title': 'Untidy AsyncAPI file',
      'version': '1.0.0',
      'description': 'This file contains duplicate and unused messages across the file and is used to test the optimizer.',
    },
  'channels':
    {
      'withDuplicatedMessage1':
        {
          'address': 'user/signedup',
          'messages':
            { 'duped1': { 'payload': { 'type': 'object', 'description': 'I am duplicated' } } },
        },
      'withDuplicatedMessage2':
        {
          'address': 'user/signedup',
          'messages':
            { 'duped2': { 'payload': { 'type': 'object', 'description': 'I am duplicated' } } },
        },
      'withFullFormMessage':
        {
          'address': 'user/signedup',
          'messages':
            {
              'canBeReused': { 'payload': { 'type': 'object', 'description': 'I can be reused.' } },
            },
        },
      'UserSignedUp1':
        {
          'address': 'user/signedup',
          'messages': { 'myMessage': { '$ref': '#/components/messages/UserSignedUp' } },
        },
      'UserSignedUp2':
        {
          'address': 'user/signedup',
          'messages': { 'myMessage': { '$ref': '#/components/messages/UserSignedUp' } },
        },
      'deleteAccount':
        {
          'address': 'user/deleteAccount',
          'messages': { 'deleteUser': { '$ref': '#/components/messages/DeleteUser' } },
        },
    },
  'operations':
    {
      'user/deleteAccount.subscribe':
        {
          'action': 'send',
          'channel': { '$ref': '#/channels/deleteAccount' },
          'messages': [{ '$ref': '#/components/messages/DeleteUser' }],
        },
    },
  'components':
    {
      'channels':
        {
          'unUsedChannel':
            {
              'address': 'user/unused',
              'messages': { 'myMessage': { '$ref': '#/components/messages/UserSignedUp' } },
            },
        },
      'schemas': { 'canBeReused': { 'type': 'object', 'description': 'I can be reused.' } },
      'messages':
        {
          'unUsedMessage': { 'payload': { 'type': 'boolean' } },
          'DeleteUser':
            {
              'payload':
                {
                  'type': 'string',
                  'description': 'userId of the user that is going to be deleted',
                },
            },
          'UserSignedUp':
            {
              'payload':
                {
                  'type': 'object',
                  'properties':
                    {
                      'displayName': { 'type': 'string', 'description': 'Name of the user' },
                      'email':
                        { 'type': 'string', 'format': 'email', 'description': 'Email of the user' },
                    },
                },
            },
        },
    },
}
